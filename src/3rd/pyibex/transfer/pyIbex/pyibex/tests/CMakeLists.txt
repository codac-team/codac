#CMakeLists.txt
file(GLOB TESTS_FILES "*.py")

foreach(TEST_FILE ${TESTS_FILES})
	FILE(COPY ${TEST_FILE} DESTINATION .)
	GET_FILENAME_COMPONENT(baseName ${TEST_FILE} NAME_WE)
	ADD_TEST(${baseName} ${PYTHON_EXECUTABLE} ${TEST_FILE})
	SET_TESTS_PROPERTIES(${baseName}
	PROPERTIES ENVIRONMENT "PYTHONPATH=${CMAKE_CURRENT_BINARY_DIR}/../../src/python_package")

# PROPERTIES ENVIRONMENT "PYTHONPATH=${PYTHON_INSTDIR}:${CMAKE_CURRENT_BINARY_DIR}/../src/python_package")
    # SET_TESTS_PROPERTIES(${baseName}
        # PROPERTIES ENVIRONMENT "LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${LIBRARY_OUTPUT_PATH}")
 endforeach()

# install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR} DESTINATION "${PYTHON_INSTDIR}/pyIbex"
#         FILES_MATCHING PATTERN "*.py")
